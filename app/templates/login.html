<!DOCTYPE html>
<html>
<head>
    <title>Вход</title>
</head>
<body style="font-family:sans-serif;max-width:400px;margin:50px auto;padding:20px;">
    <h2>Выберите пользователя</h2>
    <form method="POST" action="/login">
        <div style="display:flex;gap:10px;margin:10px 0;">
            <select name="id" id="id" onchange="updateData()" 
                    style="flex:1;padding:10px;box-sizing:border-box;">
                {{range .Users}}
                    <option value="{{.ID}}" data-role="{{.Role}}" data-name="{{.Name}}">
                        {{.Name}} ({{.Role}})
                    </option>
                {{end}}
            </select>
            <button type="submit" style="padding:10px 20px;white-space:nowrap;">Войти</button>
        </div>
        <input type="hidden" name="role" id="role">
        <input type="hidden" name="name" id="name">
    </form>
    <script>
    function updateData(){
        const s = document.getElementById('id');
        const o = s.options[s.selectedIndex];
        document.getElementById('role').value = o.dataset.role;
        document.getElementById('name').value = o.dataset.name;
    }
    document.addEventListener('DOMContentLoaded', updateData);
    </script>
</body>
</html>